(this["webpackJsonpreact-dragable"]=this["webpackJsonpreact-dragable"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(7),c=n.n(i),u=(n(12),n(2)),a=n(3),d=(n(13),n(5)),s=(n(14),n(0));var l=function(e){var t=function(e){var t=e.x,n=e.y,o=Object(r.useState)(!1),i=Object(a.a)(o,2),c=i[0],u=i[1],d=Object(r.useState)({x:t,y:n}),s=Object(a.a)(d,2),l=s[0],p=s[1],g=Object(r.useRef)(null),v=Object(r.useRef)(null);function x(e){if(c){if(v.current){var t,n=v.current.getBoundingClientRect(),r=(null===(t=v.current.parentElement)||void 0===t?void 0:t.getBoundingClientRect())||{x:0,y:0},o={x:n.x-r.x,y:n.y-r.y,mX:e.movementX,mY:e.movementY};p({x:o.x+e.movementX,y:o.y+e.movementY})}e.stopPropagation(),e.preventDefault()}}function j(e){u(!1),e.stopPropagation(),e.preventDefault()}function b(e){0===e.button&&(u(!0),e.stopPropagation(),e.preventDefault())}return Object(r.useEffect)((function(){var e;return null===(e=g.current)||void 0===e||e.addEventListener("mousedown",b),function(){var e;null===g||void 0===g||null===(e=g.current)||void 0===e||e.removeEventListener("mousedown",b)}}),[g]),Object(r.useEffect)((function(){return c?(document.addEventListener("mouseup",j),document.addEventListener("mousemove",x)):(document.removeEventListener("mouseup",j),document.removeEventListener("mousemove",x)),function(){document.removeEventListener("mouseup",j),document.removeEventListener("mousemove",x)}}),[c]),{boxRef:v,ref:g,pos:l,isDragging:c}}({x:e.x||0,y:e.y||0}),n=t.boxRef,o=t.ref,i=t.pos,c=t.isDragging;return Object(r.useEffect)((function(){e.onDrag&&e.onDrag()}),[i]),Object(s.jsxs)("article",{className:"draggable ".concat(e.className," ").concat(c?"dragging":""),id:e.id,ref:n,style:{left:i.x,top:i.y,zIndex:c?e.zIndexOndrag:e.zIndex,width:"fit-content"},children:[Object(s.jsx)("header",{ref:o,className:"draggable-header ".concat(c?"dragging":""),children:e.title}),Object(s.jsx)("section",{className:"draggable-content ".concat(c?"dragging":""),children:e.children})]})},p=(n(16),function(e){return Object(s.jsx)(l,{id:e.id,zIndexOndrag:100,zIndex:10,className:"action-handler",title:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.b,{color:"orange",style:{marginRight:"1rem"}}),e.title]}),onDrag:e.onDrag,x:e.x,y:e.y,children:Object(s.jsx)("ul",{children:e.attributes.map((function(t){return Object(s.jsx)("li",{id:t.id,onClick:function(n){return e.onClick(n,t)},children:"input"===t.type?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.a,{className:"left",type:"input-handle",onClick:function(n){return e.onAttributeClick(n,t.id)}}),Object(s.jsx)("div",{children:t.text}),Object(s.jsx)("div",{})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{children:t.text}),Object(s.jsx)(d.a,{className:"right",type:"output-handle",onClick:function(n){return e.onAttributeClick(n,t.id)}})]})},t.id)}))})})}),g=n(4),v=function(e,t){switch(t.type){case"add":return Object(u.a)(Object(u.a)({},e),{},Object(g.a)({},t.payload.id,Object(u.a)(Object(u.a)({},t.payload),{},{connectedTo:null})));case"update":return e.hasOwnProperty(t.payload.id)?Object(u.a)(Object(u.a)({},e),{},Object(g.a)({},t.payload.id,Object(u.a)(Object(u.a)({},t.payload),{},{connectedTo:e[t.payload.id].connectedTo}))):e;case"remove":var n=Object(u.a)({},e);return delete n[t.payload.id],n;case"save-state":return localStorage.setItem("items",JSON.stringify(e)),console.log("state saved in local storage"),e;default:console.log("invalid action")}return e},x={"Signup.form.return":{id:"Signup.form.return",x:100,y:200,connectedTo:"signup.arg"},"signup.arg":{id:"signup.arg",x:312,y:23},"signup.return":{id:"signup.return",x:100,y:200,connectedTo:"Switch.arg"},"Switch.arg":{id:"Switch.arg",x:312,y:23,connectedTo:null},"Switch.forward":{id:"Switch.forward",x:312,y:23,connectedTo:"GetToken.arg"},"GetToken.arg":{id:"GetToken.arg",x:312,y:23,connectedTo:null},"Switch.error":{id:"Switch.error",x:312,y:23,connectedTo:"Transform.arg"},"Transform.arg":{id:"Transform.arg",x:312,y:23,connectedTo:"fourth"},"GetToken.return":{id:"GetToken.return",x:312,y:23,connectedTo:"Response.arg"},"Transform.return":{id:"Transform.return",x:312,y:23,connectedTo:"Response.arg"},"Response.arg":{id:"Response.arg",x:312,y:23}},j=Object(r.createContext)({state:x,dispatch:function(){return null}}),b=function(e){var t=e.children,n=Object(r.useReducer)(v,x),o=Object(a.a)(n,2),i=o[0],c=o[1];return Object(s.jsx)(j.Provider,{value:{state:i,dispatch:c},children:t})},f=function(e){var t=Object(r.useContext)(j),n=t.state;t.dispatch;return Object(s.jsx)("svg",{style:Object(u.a)({},e.style),xmlns:"http://www.w3.org/2000/svg",children:Object.entries(n).filter((function(e){var t=Object(a.a)(e,2);t[0];return t[1].connectedTo})).map((function(e){var t,r,o=Object(a.a)(e,2),i=o[0],c=o[1];return n[c.connectedTo||""]?function(e,t){var n=(e[0]+e[2])/2;return Object(s.jsx)("path",{d:"M".concat(e[0],",").concat(e[1]," C").concat(n,",").concat(e[1]," ").concat(n,",").concat(e[3]," ").concat(e[2],",").concat(e[3]),fill:"transparent",stroke:"green",strokeWidth:3},t)}([c.x,c.y,null===(t=n[c.connectedTo||""])||void 0===t?void 0:t.x,null===(r=n[c.connectedTo||""])||void 0===r?void 0:r.y],i):null}))})};var y=function(){var e=Object(r.useState)([[0,100,180,100]]),t=Object(a.a)(e,2),n=t[0],i=t[1],c=function(e,t){var r=e.target.getBoundingClientRect();i([[r.x,r.y,n[0][2],n[0][3]]])},d=Object(r.useContext)(j),l=(d.state,d.dispatch),g={height:"".concat(window.innerHeight,"px"),width:"".concat(window.innerWidth,"px")},v=Object(r.useState)(!1),x=Object(a.a)(v,2),b=x[0],y=x[1],m=Object(r.useState)(!1),h=Object(a.a)(m,2),O=h[0],w=h[1],T=Object(r.useState)(null),E=Object(a.a)(T,2),S=E[0],k=E[1],R=o.a.useRef(null),C=o.a.useRef(1),L=o.a.useRef({x:0,y:0}),D=o.a.useRef({x:0,y:0});return o.a.useEffect((function(){if(R.current){var e=function(e){var t=e.pageX-L.current.x,n=e.pageY-L.current.y;L.current={x:e.pageX,y:e.pageY},D.current={x:D.current.x+t,y:D.current.y+n},R.current&&(R.current.style.transform="translate(".concat(D.current.x/C.current,"px, ").concat(D.current.y/C.current,"px)"))},t=function t(n){var r,o;null===(r=R.current)||void 0===r||r.removeEventListener("mouseup",t),null===(o=R.current)||void 0===o||o.removeEventListener("mousemove",e)},n=function(e){e.preventDefault()},r=function(r){var o,i,c;L.current={x:r.pageX,y:r.pageY},null===(o=R.current)||void 0===o||o.addEventListener("mousemove",e),null===(i=R.current)||void 0===i||i.addEventListener("selectstart",n),null===(c=R.current)||void 0===c||c.addEventListener("mouseup",t)},o=function(e){e.deltaY>0&&(C.current=.9*C.current),e.deltaY<0&&(C.current=1.1*C.current),R.current&&(R.current.style.zoom="".concat(C.current))};return R.current.addEventListener("mousedown",r),R.current.addEventListener("wheel",o),function(){var i,c,u,a,d;null===(i=R.current)||void 0===i||i.removeEventListener("mousedown",r),null===(c=R.current)||void 0===c||c.removeEventListener("mousemove",e),null===(u=R.current)||void 0===u||u.removeEventListener("mouseup",t),null===(a=R.current)||void 0===a||a.removeEventListener("selectstart",n),null===(d=R.current)||void 0===d||d.removeEventListener("wheel",o)}}}),[R]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{style:{position:"relative"},ref:R,children:[Object(s.jsx)("div",{style:Object(u.a)({position:"absolute",top:0},g),id:"board",children:Object(s.jsx)(f,{style:{width:"inherit",height:"inherit"}})}),Object(s.jsx)("div",{style:Object(u.a)({position:"absolute",top:0},g),children:[{id:"Signup.form",type:"form",text:"Signup Form",attributes:[{id:"Signup.form.arg",text:"Args",type:"input"},{id:"Signup.form.return",text:"return",type:"output"}],pos:{x:100,y:100}},{id:"Signup",type:"program",text:"Signup",attributes:[{id:"signup.arg",text:"Args",type:"input"},{id:"signup.return",text:"Return",type:"output"}],pos:{x:300,y:200}},{id:"Switch",type:"switch",text:"Switch",attributes:[{id:"Switch.arg",text:"Args",type:"input"},{id:"Switch.forward",text:"Forward",type:"output"},{id:"Switch.error",text:"Error",type:"output"}],pos:{x:500,y:300}},{id:"GetToken",type:"program",text:"GetToken",attributes:[{id:"GetToken.arg",text:"Args",type:"input"},{id:"GetToken.return",text:"Token",type:"output"}],pos:{x:800,y:200}},{id:"Transform",type:"program",text:"Transform",attributes:[{id:"Transform.arg",text:"Args",type:"input"},{id:"Transform.return",text:"Token",type:"output"}],pos:{x:800,y:400}},{id:"Response",type:"program",text:"Response",attributes:[{id:"Response.arg",text:"Args",type:"input"}],pos:{x:1100,y:300}}].map((function(e){var t,n;return Object(s.jsx)(p,{x:null===(t=e.pos)||void 0===t?void 0:t.x,y:null===(n=e.pos)||void 0===n?void 0:n.y,onClick:function(t,n){return k(e),void y(!0)},onAttributeClick:c,title:e.text,attributes:e.attributes,onDrag:function(){return function(e){var t,n,r=null===(t=document.getElementById(e))||void 0===t?void 0:t.querySelectorAll("[type$=-handle]"),o=(null===(n=document.getElementById("board"))||void 0===n?void 0:n.getBoundingClientRect())||{x:0,y:0};null===r||void 0===r||r.forEach((function(e){var t,n=e.getBoundingClientRect();l({type:"update",payload:{id:(null===(t=e.parentElement)||void 0===t?void 0:t.id)||"undefined",x:n.x-o.x+n.width/2,y:n.y-o.y+n.height/2}})}))}(e.id)},id:e.id},e.id)}))})]}),Object(s.jsxs)("div",{id:"overlayOne",style:{display:b?"block":"none"},children:[Object(s.jsxs)("h4",{children:["/",null===S||void 0===S?void 0:S.type,"/",null===S||void 0===S?void 0:S.text]}),Object(s.jsx)("ul",{style:{listStyle:"none",margin:0,padding:0},children:null===S||void 0===S?void 0:S.attributes.filter((function(e){return"input"===e.type})).map((function(e){return Object(s.jsx)("input",{type:"text",placeholder:e.text},e.id)}))}),Object(s.jsx)("button",{children:"Run test"}),Object(s.jsxs)("div",{style:{position:"fixed",bottom:0,right:0,margin:".5rem"},children:[Object(s.jsx)("button",{onClick:function(){return w(!O)},children:"Edit"}),Object(s.jsx)("button",{onClick:function(){return y(!b)},children:"Close"})]})]}),Object(s.jsx)("div",{id:"overlayTwo",style:{display:O?"block":"none"},children:Object(s.jsx)("pre",{children:'exports.handler =  async function(event, context) {\n    console.log("EVENT: " + JSON.stringify(event, null, 2))\n    return context.logStreamName\n}'})})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),i(e),c(e)}))};c.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(b,{children:Object(s.jsx)(y,{})})}),document.getElementById("root")),m()}],[[17,1,2]]]);
//# sourceMappingURL=main.347187fd.chunk.js.map